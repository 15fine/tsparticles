version: 2.1

jobs:
  build:
    working_directory: ~/tsparticles

    docker:
      - image: circleci/node:13.13.0

    steps:
      - checkout

      - run:
          name: install pug
          command: npm install -g pug

      - run:
          name: install stylus
          command: npm install -g stylus

      - run:
          name: install
          command: yarn install

      - run:
          name: bootstrap
          command: npx lerna bootstrap

      - run:
          name: build
          command: npx lerna run build
